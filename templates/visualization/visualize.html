{% extends 'base.html' %}
{% load static %}

{% block title %}Visualize Algorithms - AlgoViz Pro{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/visualization.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <h1>Algorithm Visualization</h1>
    
    <div class="visualization-controls">
        <div class="control-group">
            <label for="algorithm-select">Select Algorithm:</label>
            <select id="algorithm-select" class="form-control">
                <optgroup label="Sorting Algorithms">
                    <option value="bubble">Bubble Sort</option>
                    <option value="merge">Merge Sort</option>
                    <option value="quick">Quick Sort</option>
                </optgroup>
                <optgroup label="Searching Algorithms">
                    <option value="binary">Binary Search</option>
                    <option value="linear">Linear Search</option>
                </optgroup>
            </select>
        </div>

        <div class="control-group">
            <label for="array-input">Input Array (comma-separated):</label>
            <input 
                type="text" 
                id="array-input" 
                class="form-control" 
                placeholder="e.g., 5,2,8,1,9,3,7"
                value="5,2,8,1,9,3,7,4,6"
            >
        </div>

        <div class="control-group" id="target-group" style="display: none;">
            <label for="target-input">Target Value (for searching):</label>
            <input 
                type="number" 
                id="target-input" 
                class="form-control" 
                placeholder="e.g., 7"
                value="7"
            >
        </div>

        <div class="control-buttons">
            <button id="execute-btn" class="btn btn-primary">Execute</button>
            <button id="play-btn" class="btn btn-success" disabled>Play</button>
            <button id="pause-btn" class="btn btn-warning" disabled>Pause</button>
            <button id="step-btn" class="btn btn-info" disabled>Step</button>
            <button id="reset-btn" class="btn btn-danger" disabled>Reset</button>
        </div>

        <div class="speed-control">
            <label for="speed-slider">Animation Speed:</label>
            <input type="range" id="speed-slider" min="1" max="10" value="5">
            <span id="speed-value">Medium</span>
        </div>
    </div>

    <div class="visualization-area">
        <canvas id="visualization-canvas" width="800" height="400"></canvas>
    </div>

    <div class="statistics-panel">
        <h3>Statistics</h3>
        <div class="stats-grid">
            <div class="stat-item">
                <span class="stat-label">Comparisons:</span>
                <span id="comparisons-count" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Swaps:</span>
                <span id="swaps-count" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Array Size:</span>
                <span id="array-size" class="stat-value">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Current Step:</span>
                <span id="current-step" class="stat-value">0 / 0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Time Elapsed:</span>
                <span id="time-elapsed" class="stat-value">0 ms</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Status:</span>
                <span id="status-message" class="stat-value">Ready</span>
            </div>
        </div>
    </div>

    <div class="message-area">
        <h3>Step Details</h3>
        <div id="step-message" class="message-box">
            Select an algorithm and click Execute to begin.
        </div>
    </div>

    <div class="error-area" id="error-area" style="display: none;">
        <h3>Error</h3>
        <div id="error-message" class="error-box"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/visualizer.js' %}"></script>
{% endblock %}
